---
description: 既存のドキュメントとソースコードに基づいて新機能を実装するための設計書とタスクリストを作成する。
---

# 新機能の追加
既存のドキュメントとソースコードに基づいて新機能を実装するための設計書とタスクリストを作成する。

**引数:** 機能名 (例: `/plan-feature ユーザープロフィール編集`)

---

## ステップ1: 準備とコンテキスト設定

1. 現在のタスクコンテキストを確立する:
  - 機能名: `[引数で与えられた機能名]`
  - 日付: `[現在の日付をYYYYMMDD形式で取得]`
  - ステアリングディレクトリパス: `.steering/[日付]-[機能名]/`
2. 上記ステアリングディレクトリを作成する。
3. 以下の3つの空ファイルを作成する:
  - `[ステアリングディレクトリパス]/requirements.md`
  - `[ステアリングディレクトリパス]/design.md`
  - `[ステアリングディレクトリパス]/tasklist.md`

## ステップ2: プロジェクト理解

1. `CLAUDE.md`を読み、プロジェクトの全体像を把握する。
2. `docs/`ディレクトリ内の永続ドキュメントを確認し、関連する設計思想やアーキテクチャを理解する。

## ステップ3: 既存パターンの調査

1. Grepツールを使用し、機能名に関連するキーワードでソースコードを検索する。
**ソースコードのフォルダは`docs/repository-structure.md`から読み取って検索すること。**

  ```bash
  Grep('[機能に関連するキーワード]', [ソースコードフォルダ])
  ```
2. 検索結果を分析し、既存の実装パターン、命名規則、コンポーネントの利用方法を特定する。

## ステップ4: 計画フェーズ (ステアリングファイルの生成)

1. `Skill('steering')`を**計画モード**で実行し、ステップ1で作成した3つのファイル (`requirements.md`, `design.md`, `tasklist.md`) の内容を生成する。
2. ユーザーに確認を求め、**承認されるまで待機**

## 完了条件
- 以下の永続ドキュメントが全て作成されていること
  - `requirements.md`
  - `design.md`
  - `tasklist.md`

この完了条件を満たすまで、自律的に思考し、問題解決を行い、作業を継続すること。

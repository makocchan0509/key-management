---
description: ステアリングファイルと設計書の差異を抽出し、整合性を確保する
---

# ステアリングファイルに基づいて設計書の修正が必要な箇所を抽出して修正する

**引数:** 機能名 (例: `/compare-steering-design [ステアリングディレクトリパス]`)

---

## ステップ1: ステアリングファイルの確認と理解

1. 引数として指定された`[ステアリングディレクトリパス]`内のファイルを確認します。
```bash
# 確認
ls .steering/[ステアリングディレクトリパス]

# 以下のファイルが存在すること
- requirements.md
- design.md
- tasklist.md

# ファイルが存在する場合
✅ ステアリングファイルが見つかりました
   この内容を元に開発を行います。

# ファイルが存在しない場合
⚠️  ステアリングファイルが見つかりませんでした
   ファイルパスを確認してください。対話形式で修正を行います。
```

2. ステアリングファイルの内容を理解する。

## ステップ2: プロジェクト理解

1. `CLAUDE.md`を読み、プロジェクトの全体像を把握する。
2. `docs/`ディレクトリ内の永続ドキュメントを確認し、関連する設計思想やアーキテクチャを理解する。

## ステップ3: 差異分析

1. ステアリングファイルの内容と`docs/`ディレクトリ内の設計書を比較し、設計書の修正が必要な箇所がないか分析する。
2. 以下の観点で差異を抽出します：
- ステアリングファイルに記載されている内容が設計書に記載されているか
- ステアリングファイルに記載されている内容が設計書と矛盾していないか

## ステップ4: 差異の報告と確認

抽出された差異をリストアップし、ユーザーに報告します。

## ステップ5: 整合性の確保（修正実行）

ユーザーの指示に従い、各差異について修正を実行します。

## ステップ6: 最終確認

全ての差異について対応が完了したことを確認し、最終的な整合性レポートを出力します。
